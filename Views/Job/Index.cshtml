@model IEnumerable<JobRecorderNet.Models.Job>

@{
    ViewData["Title"] = "Index";
}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>@ViewData["Title"]</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>


<body class="bg-gray-100">
    <div class="flex flex-col items-center w-full">
        @* @await Html.PartialAsync("ui/_PageHeader", SearchBarViewModel) *@
        <p>
            <a asp-action="Create">Create New (Placeholder)</a>
        </p>
        <div class="w-full py-6 overflow-x-auto">
            <table class="min-w-full bg-white shadow rounded-lg overflow-hidden table-fixed">
                <thead class="bg-gray-200">
                    <tr>
                        <th class="px-2 md:px-4 py-2 text-left"> @Html.DisplayNameFor(model => model.JobNo) </th>
                        <th class="px-2 md:px-4 py-2 text-left"> @Html.DisplayNameFor(model => model.Type) </th>
                        <th class="px-2 md:px-4 py-2 text-left"> @Html.DisplayNameFor(model => model.Client) </th>
                        <th class="px-2 md:px-4 py-2 text-left"> @Html.DisplayNameFor(model => model.Supervisor) </th>
                        <th class="px-2 md:px-4 py-2 text-left"> @Html.DisplayNameFor(model => model.Address) </th>
                        <th class="px-2 md:px-4 py-2 text-left"> @Html.DisplayNameFor(model => model.Description) </th>
                        <th class="px-2 md:px-4 py-2 text-left"> @Html.DisplayNameFor(model => model.Status) </th>
                        <th class="px-2 md:px-4 py-2 text-left hidden"> @Html.DisplayNameFor(model => model.CreatedAt) </th>
                        <th class="px-2 md:px-4 py-2 text-left hidden"> @Html.DisplayNameFor(model => model.UpdatedAt) </th>
                        <th class="px-2 md:px-4 py-2 text-left"> Actions </th>
                    </tr>
                </thead>
                <tbody>
                    @if (!Model.Any())
                    {
                        <tr>
                            <td colspan="8" class="px-2 py-4 text-center text-gray-500">No Jobs found.</td>
                        </tr>
                    }
                    else
                    {
                        @foreach (var item in Model)
                        {
                            <tr class="border-b hover:bg-blue-50">
                                <td class="px-2 md:px-4 py-2 max-w-[150px] truncate"> @Html.DisplayFor(modelItem => item.JobNo) </td>
                                <td class="px-2 md:px-4 py-2 max-w-[150px] truncate"> @Html.DisplayFor(modelItem => item.Type) </td>
                                <td class="px-2 md:px-4 py-2 max-w-[150px] truncate"> @Html.DisplayFor(modelItem => item.Client.Email) </td>
                                <td class="px-2 md:px-4 py-2 max-w-[150px] truncate"> @Html.DisplayFor(modelItem => item.Supervisor.Address) </td>
                                <td class="px-2 md:px-4 py-2 max-w-[150px] truncate"> @Html.DisplayFor(modelItem => item.Address.Name) </td>
                                <td class="px-2 md:px-4 py-2 max-w-[150px] truncate"> @Html.DisplayFor(modelItem => item.Description) </td>
                                <td class="px-2 md:px-4 py-2 max-w-[150px] truncate"> @Html.DisplayFor(modelItem => item.Status) </td>
                                <td class="px-2 md:px-4 py-2 max-w-[150px] truncate hidden"> @Html.DisplayFor(modelItem => item.CreatedAt) </td>
                                <td class="px-2 md:px-4 py-2 max-w-[150px] truncate hidden"> @Html.DisplayFor(modelItem => item.UpdatedAt) </td>
                                <td class="px-2 md:px-4 py-2 w-[1%] whitespace-nowrap">
                                    <a class="bg-blue-600 hover:bg-blue-700 transition duration-500 text-white px-2 py-1 rounded" asp-action="Details" asp-route-id="@item.Id">Details</a>
                                    <a class="bg-yellow-400 hover:bg-yellow-500 transition duration-500 text-black px-2 py-1 rounded" asp-action="Edit" asp-route-id="@item.Id">Edit</a>
                                    <a class="bg-red-600 hover:bg-red-700 transition duration-500 text-white px-2 py-1 rounded" asp-action="Delete" asp-route-id="@item.Id">Delete</a>
                                </td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </div>
        <div class="w-full px-4 md:px-12 mt-6 flex justify-center">
            <!-- Example pagination placeholder -->
            <span class="text-gray-500">Pagination goes here</span>
        </div>
    </div>
</body>
